{"ast":null,"code":"var _jsxFileName = \"/Users/gabrielejames/Desktop/task-30/client/src/components/GitLabResults.js\";\nimport React from \"react\";\nimport bootstrap from \"bootstrap\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../App.css';\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MyComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      items: [],\n      username: this.props.username,\n      user: [],\n      projects: [],\n      commits: []\n    };\n  }\n\n  async getData() {\n    const user = await fetch(`/gitlab/${this.state.username}`).then(response => response.json());\n    this.setState({\n      user: user,\n      projects: user.projects\n    });\n    console.log(user.projects);\n    const projects = await Promise.all(user.projects.map(project => {\n      project.commits = fetch(`https://gitlab.com/api/v4/projects/${project.id}/repository/commits`).then(response => response.json());\n      return project;\n    }));\n    console.log(projects);\n    const projectscommit = await fetch(`https://gitlab.com/api/v4/projects/${user.projects[0].id}/repository/commits`).then(response => response.json());\n    this.setState({\n      commits: projectscommit\n    });\n    console.log(projectscommit.slice(0, 5));\n    fetch(`/gitlab/${this.state.username}`).then(res => res.json()).then(result => {\n      this.setState({\n        isLoaded: true,\n        items: result.projects,\n        user: result\n      });\n    }, error => {\n      this.setState({\n        isLoaded: true,\n        error\n      });\n    });\n  }\n\n  componentDidMount() {\n    //   fetch(`/gitlab/${this.state.username}`)\n    //     .then(res => res.json())\n    //     .then(\n    //       (result) => {\n    //         this.setState({\n    //           isLoaded: true,\n    //           items: result.projects,\n    //           user: result\n    //         });\n    //       },\n    //       (error) => {\n    //         this.setState({\n    //           isLoaded: true,\n    //           error\n    //         });\n    //       }\n    //     )\n    this.getData();\n  }\n\n  render() {\n    const {\n      error,\n      isLoaded,\n      items,\n      user,\n      projects\n    } = this.state;\n\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Error: \", error.message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 16\n      }, this);\n    } else if (!isLoaded) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 16\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Container, {\n        className: \"results\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [this.state.user.id, \" : \", this.state.projects[0].name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"text-center head\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-center\",\n            children: [\"GitLab details for \", this.props.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 47\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            className: \"basic-info\",\n            xs: 12,\n            lg: 4,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \" info-box\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                id: \"img-top\",\n                src: user.avatar_url,\n                alt: \"...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 28\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"info-text\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Username: \", user.username]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Name: \", user.name, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"State: \", user.state]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 24\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            className: \"repo-info\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Projects:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 29\n              }, this), projects.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"project-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: item.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"date\",\n                  children: [\"Created: \", item.created_at, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 134,\n                    columnNumber: 68\n                  }, this), \"Last activity: \", item.last_activity_at, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 80\n                  }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"external\",\n                    href: item.web_url,\n                    children: \"See project page\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 33\n              }, this)), /*#__PURE__*/_jsxDEV(\"h5\", {\n                children: \"Commits:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            className: \"repo-info\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Links:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n}\n\nexport default MyComponent;","map":{"version":3,"names":["React","bootstrap","Container","Row","Col","MyComponent","Component","constructor","props","state","error","isLoaded","items","username","user","projects","commits","getData","fetch","then","response","json","setState","console","log","Promise","all","map","project","id","projectscommit","slice","res","result","componentDidMount","render","message","name","avatar_url","item","description","created_at","last_activity_at","web_url"],"sources":["/Users/gabrielejames/Desktop/task-30/client/src/components/GitLabResults.js"],"sourcesContent":["import React from \"react\";\nimport bootstrap from \"bootstrap\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../App.css';\nimport { Container, Row, Col } from \"react-bootstrap\";\n\nclass MyComponent extends React.Component {\n  \n    constructor(props) {\n      super(props);\n      this.state = {\n        error: null,\n        isLoaded: false,\n        items: [],\n        username: this.props.username,\n        user: [],\n        projects: [],\n        commits: []\n      };\n    }\n\n\n    async getData() {\n\n\n        const user = await fetch(`/gitlab/${this.state.username}`).then(response => response.json());\n        this.setState({user: user, projects: user.projects})\n\n        console.log(user.projects)\n\n        const projects = await Promise.all(\n            user.projects.map((project) => {\n                project.commits = fetch(`https://gitlab.com/api/v4/projects/${project.id}/repository/commits`).then(response => response.json());\n                return project\n                 \n            }))\n        \n        console.log(projects)\n\n\n\n\n        const projectscommit = await fetch(`https://gitlab.com/api/v4/projects/${user.projects[0].id}/repository/commits`).then(response => response.json()) \n        this.setState({commits: projectscommit})\n\n        console.log(projectscommit.slice(0,5))\n\n\n\n\n        fetch(`/gitlab/${this.state.username}`)\n        .then(res => res.json())\n        .then(\n          (result) => {\n            this.setState({\n              isLoaded: true,\n              items: result.projects,\n              user: result\n            });\n          },\n          (error) => {\n            this.setState({\n              isLoaded: true,\n              error\n            });\n          }\n        )\n\n    }\n  \n    componentDidMount() {\n\n    //   fetch(`/gitlab/${this.state.username}`)\n    //     .then(res => res.json())\n    //     .then(\n    //       (result) => {\n    //         this.setState({\n    //           isLoaded: true,\n    //           items: result.projects,\n    //           user: result\n    //         });\n    //       },\n    //       (error) => {\n    //         this.setState({\n    //           isLoaded: true,\n    //           error\n    //         });\n    //       }\n    //     )\n        this.getData()\n\n    }\n  \n    render() {\n      const { error, isLoaded, items, user, projects } = this.state;\n      if (error) {\n        return <div>Error: {error.message}</div>;\n      } else if (!isLoaded) {\n        return <div>Loading...</div>;\n      } else {\n        return (\n\n        <Container className=\"results\">\n            <p>{this.state.user.id} : {this.state.projects[0].name}</p>\n             \n            <Row className=\"text-center head\"><h1 className=\"text-center\">GitLab details for {this.props.username}</h1></Row>\n            \n            <Row>\n            \n                    <Col className=\"basic-info\" xs={12} lg={4}>\n                       <div className=\" info-box\">\n                           <img id=\"img-top\" src={user.avatar_url}  alt=\"...\" />   \n                        \n                        <div className=\"info-text\">\n                        <p>Username: {user.username}</p>\n                        <p>Name: {user.name} </p>\n                        <p>State: {user.state}</p>  \n                        </div>\n                        <hr />\n                        </div>\n                        \n                    </Col>\n                    <Col className=\"repo-info\">\n\n                        \n                        \n                          <div>\n                            <h3>Projects:</h3>\n                            {projects.map(item => (\n                                <div className=\"project-details\">\n                                    <h5>{item.name}</h5>\n                                    <p>{item.description}</p>\n                                    <p className=\"date\">\n                                        Created: {item.created_at} <br />\n                                        Last activity: {item.last_activity_at} <br />\n                                        <a className=\"external\" href={item.web_url}>See project page</a>\n                                    </p>\n                                    \n                                </div>\n                            ))}\n                            <h5>Commits:</h5>\n                        </div>\n                    </Col>\n                    <Col className=\"repo-info\">\n                    <h3>Links:</h3>\n                    \n                    </Col>\n\n\n                </Row>\n                \n\n        </Container>\n        );\n      }\n    }\n  }\n\n  export default MyComponent\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}