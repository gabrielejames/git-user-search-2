{"ast":null,"code":"var _jsxFileName = \"/Users/gabrielejames/Desktop/task-30/client/src/components/Search.js\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: '',\n      gitHubUserFound: false,\n      gitHubUser: {},\n      gitRepos: [],\n      gitLabUser: {},\n      gitLabUserFound: false\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    /* \n    turns the form data into a JSON object.\n    solution provided by Wilt on Stackoverflow: \n    https://stackoverflow.com/questions/41431322/how-to-convert-formdata-html5-object-to-json\n    */\n\n    this.setState({\n      gitHubUser: {},\n      gitLabUser: {}\n    });\n    let formData = new FormData(e.target);\n    const data = {};\n    formData.forEach(function (value, key) {\n      data[key] = value;\n    });\n    const username = data.username;\n    let githubapi = '/github/' + username;\n    let gitlabapi = '/gitlab/' + username; //uses fetch method to make a put request to the server to edit car details\n\n    try {\n      fetch(githubapi).then(res => res.json()).then(result => {\n        this.setState({\n          gitHubUser: result,\n          gitRepos: result.repos.slice(1, 5),\n          gitHubUserFound: true\n        });\n        console.log(result);\n      }, error => {\n        console.log(error);\n      });\n    } catch {\n      this.setState({\n        gitHubUserFound: false\n      });\n      console.log('No gitHub user found');\n    }\n\n    fetch(gitlabapi).then(res => res.json()).then(result => {\n      this.setState({\n        gitLabUser: result,\n        loaded: true\n      });\n      console.log(result);\n    }, error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    const repos = this.state.gitRepos;\n    const RepoList = repos.map(repo => /*#__PURE__*/_jsxDEV(\"li\", {\n      children: repo.name\n    }, repo.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }, this));\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Search gitHub user\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          for: \"username\",\n          children: \"Username: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"username\",\n          name: \"username\",\n          value: this.state.username,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"results\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Results:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), this.state.gitHubUserFound ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"GitHub:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: this.state.gitHubUser.avatar_url\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"USERNAME: \", this.state.gitHubUser.login]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"NAME: \", this.state.gitHubUser.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"LOCATION: \", this.state.location]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"BIO: \", this.state.gitHubUser.bio]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Recent Repos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: RepoList\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No gitHub user found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), this.state.gitLabUser.message !== \"No users found\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"GitLab:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"USERNAME: \", this.state.gitLabUser.username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"NAME: \", this.state.gitLabUser.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: this.state.gitLabUser.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"names":["React","Search","Component","constructor","props","state","username","gitHubUserFound","gitHubUser","gitRepos","gitLabUser","gitLabUserFound","handleSubmit","bind","handleChange","e","setState","target","value","preventDefault","formData","FormData","data","forEach","key","githubapi","gitlabapi","fetch","then","res","json","result","repos","slice","console","log","error","loaded","render","RepoList","map","repo","name","id","avatar_url","login","location","bio","message"],"sources":["/Users/gabrielejames/Desktop/task-30/client/src/components/Search.js"],"sourcesContent":["import React from \"react\";\n\nclass Search extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            username : '',\n            gitHubUserFound: false,\n            gitHubUser: {},\n            gitRepos: [],\n            gitLabUser: {},\n            gitLabUserFound: false\n\n        };\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        \n    }\n\n    handleChange(e) {\n\n        this.setState({username: e.target.value})\n    }\n\n   \n\n    handleSubmit(e) {\n        \n        e.preventDefault();\n\n        /* \n        turns the form data into a JSON object.\n        solution provided by Wilt on Stackoverflow: \n        https://stackoverflow.com/questions/41431322/how-to-convert-formdata-html5-object-to-json\n        */\n\n        this.setState({gitHubUser : {},\n        gitLabUser: {}});\n\n        let formData = new FormData(e.target);\n        const data = {};\n\n        formData.forEach(function(value, key) {\n            data[key] = value;\n        });\n        \n        const username = data.username\n        let githubapi = '/github/' + username;\n        let gitlabapi = '/gitlab/' + username;\n\n\n        //uses fetch method to make a put request to the server to edit car details\n        try {\n        fetch(githubapi)\n            .then(res => res.json())\n            .then(\n                (result) => {\n                    this.setState({\n                      gitHubUser: result,\n                      gitRepos: result.repos.slice(1,5),\n                      gitHubUserFound: true\n                      \n                    });  \n                    console.log(result)\n                },\n                (error) => {\n                  console.log(error)\n                }\n            );\n        } catch {\n            this.setState({gitHubUserFound: false});\n            console.log('No gitHub user found');\n        }\n\n            \n\n            fetch(gitlabapi)\n            .then(res => res.json())\n            .then(\n                (result) => {\n                    this.setState({\n                      gitLabUser: result,\n                      loaded: true\n                    });  \n                    console.log(result)\n                },\n                (error) => {\n                  console.log(error)\n                }\n            );\n\n            \n\n\n         \n    }\n    render () {\n       const repos = this.state.gitRepos\n      const RepoList = repos.map(repo => (\n          <li key={repo.id}>{repo.name}</li>\n      )) \n\n    \n  \n\n        return (\n            \n            <div>\n                <h2>Search gitHub user</h2>\n                <form onSubmit={this.handleSubmit}>\n                    <label for=\"username\">Username: </label>\n                    <input type=\"text\" id=\"username\" name=\"username\" value={this.state.username} onChange={this.handleChange}></input>\n                    <br />\n                    <input type=\"submit\" value=\"Search\"></input>\n                </form>\n\n                <div class=\"results\">\n                    <h2>Results:</h2>\n                    {this.state.gitHubUserFound ?\n                    <div>\n                        \n                        <h3>GitHub:</h3>\n                        <img src={this.state.gitHubUser.avatar_url}></img>\n                        <p>USERNAME: {this.state.gitHubUser.login}</p>\n                        <p>NAME: {this.state.gitHubUser.name}</p>\n                        <p>LOCATION: {this.state.location}</p>\n                        <p>BIO: {this.state.gitHubUser.bio}</p>\n                        <h4>Recent Repos</h4>\n                        <ul>\n                            {RepoList}\n                        </ul>\n                        \n                        \n                    </div> : <p>No gitHub user found</p>}\n                </div>\n                {this.state.gitLabUser.message !== \"No users found\" ? \n                    <div>\n                        <h3>GitLab:</h3>\n                        <p>USERNAME: {this.state.gitLabUser.username}</p>\n                        <p>NAME: {this.state.gitLabUser.name}</p>\n                    </div> : \n                    <p>{this.state.gitLabUser.message}</p>}\n                \n            </div>\n        )\n    }\n\n}\n\nexport default Search;"],"mappings":"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"},"metadata":{},"sourceType":"module"}